{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///E:/Jai%20Shree%20Ram/Modern%20Technology/Hair%20Transplant/hairgrowth-clinic/HairGrowth-Clinic/components/Register/ProgressTabs.jsx"],"sourcesContent":["\"use client\";\r\n\r\nexport default function ProgressTabs({ stepIndex = 0, steps = [] }) {\r\n  const percent = Math.round(((stepIndex + 1) / steps.length) * 100);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex items-center justify-between gap-3 mb-4\">\r\n        {steps.map((label, i) => (\r\n          <div key={i} className=\"flex-1 text-center\">\r\n            <div className={`mx-auto w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold\r\n              ${i <= stepIndex ? \"bg-emerald-500 text-white\" : \"bg-gray-200 text-gray-600\"}`}>\r\n              {i + 1}\r\n            </div>\r\n            <div className=\"text-xs mt-2 text-gray-600\">{label}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"w-full bg-gray-200 h-2 rounded\">\r\n        <div className=\"h-2 rounded bg-emerald-400 transition-all\" style={{ width: `${percent}%` }} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAEe,SAAS,aAAa,EAAE,YAAY,CAAC,EAAE,QAAQ,EAAE,EAAE;IAChE,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,CAAC,YAAY,CAAC,IAAI,MAAM,MAAM,GAAI;IAE9D,qBACE,8OAAC;;0BACC,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,OAAO,kBACjB,8OAAC;wBAAY,WAAU;;0CACrB,8OAAC;gCAAI,WAAW,CAAC;cACf,EAAE,KAAK,YAAY,8BAA8B,6BAA6B;0CAC7E,IAAI;;;;;;0CAEP,8OAAC;gCAAI,WAAU;0CAA8B;;;;;;;uBALrC;;;;;;;;;;0BAUd,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;oBAA4C,OAAO;wBAAE,OAAO,GAAG,QAAQ,CAAC,CAAC;oBAAC;;;;;;;;;;;;;;;;;AAIjG","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///E:/Jai%20Shree%20Ram/Modern%20Technology/Hair%20Transplant/hairgrowth-clinic/HairGrowth-Clinic/components/Register/AnimatedInput.jsx"],"sourcesContent":["\"use client\";\r\n\r\nexport default function AnimatedInput({ type = \"text\", options = [], value, placeholder, onChange }) {\r\n  if (type === \"radio\") {\r\n    return (\r\n      <div className=\"space-y-3\">\r\n        {options.map((opt) => (\r\n          <label key={opt} className=\"flex items-center gap-3 cursor-pointer p-2 rounded hover:bg-gray-50\">\r\n            <input\r\n              type=\"radio\"\r\n              checked={value === opt}\r\n              onChange={() => onChange(opt)}\r\n              className=\"h-4 w-4\"\r\n            />\r\n            <span className=\"text-gray-700\">{opt}</span>\r\n          </label>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (type === \"select\") {\r\n    return (\r\n      <select value={value || \"\"} onChange={(e) => onChange(e.target.value)} className=\"w-full border px-3 py-2 rounded\">\r\n        <option value=\"\">Select</option>\r\n        {options.map((o) => <option key={o} value={o}>{o}</option>)}\r\n      </select>\r\n    );\r\n  }\r\n\r\n  // text / tel / number\r\n  return (\r\n    <input\r\n      value={value || \"\"}\r\n      onChange={(e) => onChange(e.target.value)}\r\n      placeholder={placeholder || \"\"}\r\n      type={type}\r\n      className=\"w-full border px-3 py-2 rounded\"\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAEe,SAAS,cAAc,EAAE,OAAO,MAAM,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE;IACjG,IAAI,SAAS,SAAS;QACpB,qBACE,8OAAC;YAAI,WAAU;sBACZ,QAAQ,GAAG,CAAC,CAAC,oBACZ,8OAAC;oBAAgB,WAAU;;sCACzB,8OAAC;4BACC,MAAK;4BACL,SAAS,UAAU;4BACnB,UAAU,IAAM,SAAS;4BACzB,WAAU;;;;;;sCAEZ,8OAAC;4BAAK,WAAU;sCAAiB;;;;;;;mBAPvB;;;;;;;;;;IAYpB;IAEA,IAAI,SAAS,UAAU;QACrB,qBACE,8OAAC;YAAO,OAAO,SAAS;YAAI,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;YAAG,WAAU;;8BAC/E,8OAAC;oBAAO,OAAM;8BAAG;;;;;;gBAChB,QAAQ,GAAG,CAAC,CAAC,kBAAM,8OAAC;wBAAe,OAAO;kCAAI;uBAAd;;;;;;;;;;;IAGvC;IAEA,sBAAsB;IACtB,qBACE,8OAAC;QACC,OAAO,SAAS;QAChB,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;QACxC,aAAa,eAAe;QAC5B,MAAM;QACN,WAAU;;;;;;AAGhB","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///E:/Jai%20Shree%20Ram/Modern%20Technology/Hair%20Transplant/hairgrowth-clinic/HairGrowth-Clinic/components/Register/PhotoUploader.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\n\r\nexport default function PhotoUploader({ file, onChange }) {\r\n  const inputRef1 = useRef(null);\r\n  const inputRef2 = useRef(null);\r\n  const [preview, setPreview] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!file) { setPreview(null); return; }\r\n    const url = URL.createObjectURL(file);\r\n    setPreview(url);\r\n    return () => URL.revokeObjectURL(url);\r\n  }, [file]);\r\n\r\n  function onFile(e) {\r\n    const f = e.target.files?.[0];\r\n    if (f) onChange(f);\r\n  }\r\n\r\n  function remove() {\r\n    onChange(null);\r\n    if (inputRef1.current) inputRef1.current.value = null;\r\n    if (inputRef2.current) inputRef2.current.value = null;\r\n    setPreview(null);\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center gap-4\">\r\n      <div className=\"w-48 h-48 rounded-xl bg-gray-100 flex items-center justify-center overflow-hidden border\">\r\n        {preview ? <img src={preview} className=\"w-full h-full object-cover\" /> : <div className=\"text-gray-400\">No photo yet</div>}\r\n      </div>\r\n\r\n      <div className=\"flex gap-3\">\r\n        <label className=\"px-4 py-2 bg-gray-800 text-white rounded cursor-pointer\">\r\n          Upload\r\n          <input ref={inputRef1} type=\"file\" accept=\"image/*\" onChange={onFile} className=\"hidden\" />\r\n        </label>\r\n\r\n        <label className=\"px-4 py-2 bg-indigo-600 text-white rounded cursor-pointer\">\r\n          Take Picture\r\n          {/* capture attribute prompts camera on mobile */}\r\n          <input ref={inputRef2} type=\"file\" accept=\"image/*\" capture=\"environment\" onChange={onFile} className=\"hidden\" />\r\n        </label>\r\n\r\n        {preview && <button onClick={remove} className=\"px-4 py-2 bg-white border rounded\">Remove</button>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE;IACtD,MAAM,YAAY,IAAA,+MAAM,EAAC;IACzB,MAAM,YAAY,IAAA,+MAAM,EAAC;IACzB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,MAAM;YAAE,WAAW;YAAO;QAAQ;QACvC,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,WAAW;QACX,OAAO,IAAM,IAAI,eAAe,CAAC;IACnC,GAAG;QAAC;KAAK;IAET,SAAS,OAAO,CAAC;QACf,MAAM,IAAI,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAC7B,IAAI,GAAG,SAAS;IAClB;IAEA,SAAS;QACP,SAAS;QACT,IAAI,UAAU,OAAO,EAAE,UAAU,OAAO,CAAC,KAAK,GAAG;QACjD,IAAI,UAAU,OAAO,EAAE,UAAU,OAAO,CAAC,KAAK,GAAG;QACjD,WAAW;IACb;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACZ,wBAAU,8OAAC;oBAAI,KAAK;oBAAS,WAAU;;;;;yCAAkC,8OAAC;oBAAI,WAAU;8BAAgB;;;;;;;;;;;0BAG3G,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,WAAU;;4BAA0D;0CAEzE,8OAAC;gCAAM,KAAK;gCAAW,MAAK;gCAAO,QAAO;gCAAU,UAAU;gCAAQ,WAAU;;;;;;;;;;;;kCAGlF,8OAAC;wBAAM,WAAU;;4BAA4D;0CAG3E,8OAAC;gCAAM,KAAK;gCAAW,MAAK;gCAAO,QAAO;gCAAU,SAAQ;gCAAc,UAAU;gCAAQ,WAAU;;;;;;;;;;;;oBAGvG,yBAAW,8OAAC;wBAAO,SAAS;wBAAQ,WAAU;kCAAoC;;;;;;;;;;;;;;;;;;AAI3F","debugId":null}},
    {"offset": {"line": 315, "column": 0}, "map": {"version":3,"sources":["file:///E:/Jai%20Shree%20Ram/Modern%20Technology/Hair%20Transplant/hairgrowth-clinic/HairGrowth-Clinic/components/Register/StepCard.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport AnimatedInput from \"./AnimatedInput\";\r\nimport PhotoUploader from \"./PhotoUploader\";\r\n\r\n/**\r\n * Renders one step (single question) based on step.type\r\n * props:\r\n * - step: { key, label, type, options, placeholder, required, ... }\r\n * - value, onChange, error\r\n */\r\nexport default function StepCard({ step, value, onChange, error, onTakePhoto }) {\r\n  const type = step.type;\r\n\r\n  if (type === \"photo\") {\r\n    return (\r\n      <div className=\"bg-white rounded-2xl shadow-lg p-6\">\r\n        <h2 className=\"text-xl font-semibold mb-3\">{step.label}</h2>\r\n        <p className=\"text-sm text-gray-500 mb-4\">Use camera for a clear image. Try natural light and show the thinning area.</p>\r\n\r\n        <PhotoUploader file={value} onChange={(f) => { onChange(f); if (onTakePhoto) onTakePhoto(f); }} />\r\n\r\n        {error && <p className=\"text-red-600 text-sm mt-3\">{error}</p>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (type === \"stages\") {\r\n    return (\r\n      <div className=\"bg-white rounded-2xl shadow-lg p-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">{step.label}</h2>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n          {step.options.map((opt) => (\r\n            <div\r\n              key={opt.id}\r\n              onClick={() => onChange(opt.id)}\r\n              className={`cursor-pointer rounded-xl border p-4 text-center ${value === opt.id ? \"ring-2 ring-emerald-300\" : \"border-gray-200\"}`}\r\n            >\r\n              <div className=\"aspect-[4/3] mb-3 bg-gray-50 rounded overflow-hidden flex items-center justify-center\">\r\n                <img src={opt.img} alt={opt.title} className=\"object-contain w-3/4 h-3/4\" />\r\n              </div>\r\n              <div className=\"font-medium\">{opt.title}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {error && <p className=\"text-red-600 text-sm mt-3\">{error}</p>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // generic text/select/number/radio\r\n  return (\r\n    <div className=\"bg-white rounded-2xl shadow-lg p-6\">\r\n      <h2 className=\"text-xl font-semibold mb-3\">{step.label}</h2>\r\n\r\n      <AnimatedInput\r\n        type={type}\r\n        options={step.options}\r\n        value={value}\r\n        placeholder={step.placeholder}\r\n        onChange={onChange}\r\n      />\r\n\r\n      {error && <p className=\"text-red-600 text-sm mt-3\">{error}</p>}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWe,SAAS,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE;IAC5E,MAAM,OAAO,KAAK,IAAI;IAEtB,IAAI,SAAS,SAAS;QACpB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA8B,KAAK,KAAK;;;;;;8BACtD,8OAAC;oBAAE,WAAU;8BAA6B;;;;;;8BAE1C,8OAAC,mJAAa;oBAAC,MAAM;oBAAO,UAAU,CAAC;wBAAQ,SAAS;wBAAI,IAAI,aAAa,YAAY;oBAAI;;;;;;gBAE5F,uBAAS,8OAAC;oBAAE,WAAU;8BAA6B;;;;;;;;;;;;IAG1D;IAEA,IAAI,SAAS,UAAU;QACrB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA8B,KAAK,KAAK;;;;;;8BACtD,8OAAC;oBAAI,WAAU;8BACZ,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC,oBACjB,8OAAC;4BAEC,SAAS,IAAM,SAAS,IAAI,EAAE;4BAC9B,WAAW,CAAC,iDAAiD,EAAE,UAAU,IAAI,EAAE,GAAG,4BAA4B,mBAAmB;;8CAEjI,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,KAAK,IAAI,GAAG;wCAAE,KAAK,IAAI,KAAK;wCAAE,WAAU;;;;;;;;;;;8CAE/C,8OAAC;oCAAI,WAAU;8CAAe,IAAI,KAAK;;;;;;;2BAPlC,IAAI,EAAE;;;;;;;;;;gBAWhB,uBAAS,8OAAC;oBAAE,WAAU;8BAA6B;;;;;;;;;;;;IAG1D;IAEA,mCAAmC;IACnC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA8B,KAAK,KAAK;;;;;;0BAEtD,8OAAC,mJAAa;gBACZ,MAAM;gBACN,SAAS,KAAK,OAAO;gBACrB,OAAO;gBACP,aAAa,KAAK,WAAW;gBAC7B,UAAU;;;;;;YAGX,uBAAS,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAG1D","debugId":null}},
    {"offset": {"line": 484, "column": 0}, "map": {"version":3,"sources":["file:///E:/Jai%20Shree%20Ram/Modern%20Technology/Hair%20Transplant/hairgrowth-clinic/HairGrowth-Clinic/app/register/page.jsx"],"sourcesContent":["// \"use client\";\n\n// import { useState } from \"react\";\n// import { useRouter } from \"next/navigation\";\n// import { Input } from \"@/components/ui/input\";\n// import { Button } from \"@/components/ui/button\";\n// import { Label } from \"@/components/ui/label\";\n// import { motion } from \"framer-motion\";\n// import ProgressBar from \"@/components/shared/ProgressBar\";\n\n// export default function Register() {\n//   const router = useRouter();\n//   const [step, setStep] = useState(1);\n//   const [form, setForm] = useState({\n//     name: \"\",\n//     email: \"\",\n//     phone: \"\",\n//     age: \"\",\n//     gender: \"\",\n//     location: \"\",\n//   });\n\n//   function handleChange(e) {\n//     const { name, value } = e.target;\n//     setForm((s) => ({ ...s, [name]: value }));\n//   }\n\n//   function next() {\n//     if (step === 3) {\n//       const qs = new URLSearchParams(form).toString();\n//       router.push(`/stage?${qs}`);\n//     } else setStep((s) => s + 1);\n//   }\n\n//   function prev() {\n//     setStep((s) => Math.max(1, s - 1));\n//   }\n\n//   return (\n//     <div className=\"min-h-screen bg-gray-50 py-12\">\n//       <main className=\"max-w-3xl mx-auto p-6 bg-white rounded-2xl shadow\">\n        \n//         <h2 className=\"text-2xl font-bold\">Hair Health Assessment</h2>\n//         <p className=\"text-gray-600 mt-2\">\n//           Understand the root cause of your hair fall with this doctor-designed questionnaire.\n//         </p>\n\n//         <div className=\"mt-6\">\n//           <ProgressBar step={step} />\n\n//           <motion.div\n//             key={step}\n//             initial={{ opacity: 0, x: 10 }}\n//             animate={{ opacity: 1, x: 0 }}\n//             transition={{ duration: 0.35 }}\n//           >\n//             {step === 1 && (\n//               <div className=\"space-y-4 mt-4\">\n//                 <div>\n//                   <Label>Name</Label>\n//                   <Input name=\"name\" value={form.name} onChange={handleChange} required />\n//                 </div>\n//                 <div>\n//                   <Label>Email</Label>\n//                   <Input name=\"email\" type=\"email\" value={form.email} onChange={handleChange} required />\n//                 </div>\n//                 <div>\n//                   <Label>Phone</Label>\n//                   <Input name=\"phone\" value={form.phone} onChange={handleChange} required />\n//                 </div>\n//               </div>\n//             )}\n\n//             {step === 2 && (\n//               <div className=\"space-y-4 mt-4\">\n//                 <div>\n//                   <Label>Age</Label>\n//                   <Input name=\"age\" type=\"number\" value={form.age} onChange={handleChange} />\n//                 </div>\n//                 <div>\n//                   <Label>Gender</Label>\n//                   <select name=\"gender\" className=\"w-full mt-2 p-2 border rounded\" value={form.gender} onChange={handleChange}>\n//                     <option value=\"\">Select</option>\n//                     <option value=\"male\">Male</option>\n//                     <option value=\"female\">Female</option>\n//                     <option value=\"other\">Other</option>\n//                   </select>\n//                 </div>\n//                 <div>\n//                   <Label>Location</Label>\n//                   <Input name=\"location\" value={form.location} onChange={handleChange} />\n//                 </div>\n//               </div>\n//             )}\n\n//             {step === 3 && (\n//               <div className=\"space-y-4 mt-4\">\n//                 <div>\n//                   <Label>Any hair/health concerns (optional)</Label>\n//                   <textarea\n//                     name=\"concerns\"\n//                     value={form.concerns || \"\"}\n//                     onChange={handleChange}\n//                     className=\"w-full p-2 border rounded\"\n//                     rows={4}\n//                   />\n//                 </div>\n//                 <div className=\"text-sm text-gray-500\">\n//                   Share symptoms like stress, dandruff, sleep issues, thinning, scalp itching or digestion concerns.\n//                 </div>\n//               </div>\n//             )}\n\n//             <div className=\"mt-6 flex items-center gap-3\">\n//               {step > 1 && <Button variant=\"ghost\" onClick={prev}>Back</Button>}\n//               <Button onClick={next}>{step === 3 ? \"Proceed to Stage\" : \"Next\"}</Button>\n//             </div>\n//           </motion.div>\n//         </div>\n//       </main>\n//     </div>\n//   );\n// }\n\n\n\n\n\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport ProgressTabs from \"@/components/Register/ProgressTabs\";\nimport StepCard from \"@/components/Register/StepCard\";\nimport PhotoUploader from \"@/components/Register/PhotoUploader\";\n\n/**\n * One-question-at-a-time registration wizard (Option A)\n */\n\nexport default function RegisterFlow() {\n  const router = useRouter();\n\n  // flattened steps array (each step is a single question or group used consecutively)\n  const steps = useMemo(() => {\n    // hair + internal questions modeled after your images\n    const hairQuestions = [\n      {\n        key: \"hair_family\",\n        label: \"Do you have a family history of hair loss?\",\n        type: \"radio\",\n        options: [\"Mother side\", \"Father side\", \"Both\", \"None\"],\n        required: true,\n      },\n      {\n        key: \"hair_dandruff\",\n        label: \"Do you have dandruff?\",\n        type: \"radio\",\n        options: [\"No\", \"Mild\", \"Heavy\", \"Psoriasis/Seborrheic Dermatitis\"],\n        required: true,\n      },\n      {\n        key: \"hair_shedding_pattern\",\n        label: \"How is the pattern of shedding?\",\n        type: \"radio\",\n        options: [\"Diffuse thinning\", \"Receding hairline\", \"Patchy\", \"Other\"],\n        required: true,\n      },\n    ];\n\n    const internalQuestions = [\n      { key: \"internal_sleep\", label: \"How well do you sleep?\", type: \"radio\", options: [\"Very well\", \"Disturbed\", \"Hard to fall asleep\"], required: true },\n      { key: \"internal_stress\", label: \"How stressed are you?\", type: \"radio\", options: [\"None\", \"Low\", \"Moderate\", \"High\"], required: true },\n      { key: \"internal_constipation\", label: \"Do you feel constipated?\", type: \"radio\", options: [\"No\", \"Sometimes\", \"Often\", \"IBS\"], required: true },\n      { key: \"internal_gas\", label: \"Do you have gas/acidity?\", type: \"radio\", options: [\"No\", \"Sometimes\", \"Often\"], required: true },\n      { key: \"internal_energy\", label: \"Energy levels during the day?\", type: \"radio\", options: [\"High\", \"Low morning\", \"Low afternoon\", \"Low evening\"], required: true },\n      { key: \"internal_supplements\", label: \"Taking any hair supplements?\", type: \"radio\", options: [\"Yes\", \"No\"], required: false },\n    ];\n\n    // Stage selection question (single)\n    const stageQuestion = {\n      key: \"stage\",\n      label: \"Which stage matches your hair loss?\",\n      type: \"stages\",\n      options: [\n        { id: 0, title: \"Stage 1 (Mild)\", img: \"/images/stages/male-1.svg\" },\n        { id: 1, title: \"Stage 2 (Moderate)\", img: \"/images/stages/male-2.svg\" },\n        { id: 2, title: \"Stage 3 (Severe)\", img: \"/images/stages/male-3.svg\" },\n      ],\n      required: true,\n    };\n\n    // About you fields shown one-by-one\n    const about = [\n      { key: \"name\", label: \"Your full name\", type: \"text\", placeholder: \"e.g. Rahul Mehta\", required: true },\n      { key: \"phone\", label: \"Phone number\", type: \"tel\", placeholder: \"+91 9XXXXXXXXX\", required: true },\n      { key: \"age\", label: \"Age\", type: \"number\", placeholder: \"e.g. 29\", required: true },\n      { key: \"gender\", label: \"Gender\", type: \"select\", options: [\"Male\", \"Female\", \"Other\"], required: true },\n      { key: \"location\", label: \"Location (city)\", type: \"text\", placeholder: \"e.g. Mumbai (optional)\", required: false },\n    ];\n\n    // Build final ordered list: about -> stage -> hair questions -> internal -> scalp upload (special)\n    return [\n      ...about,\n      stageQuestion,\n      ...hairQuestions,\n      ...internalQuestions,\n      { key: \"scalp_photo\", label: \"Upload a clear scalp photo\", type: \"photo\", required: true },\n    ];\n  }, []);\n\n  // form state\n  const [index, setIndex] = useState(0);\n  const [form, setForm] = useState({}); // store by key\n  const [errors, setErrors] = useState({});\n\n  function setValue(key, value) {\n    setForm((s) => ({ ...s, [key]: value }));\n    setErrors((e) => ({ ...e, [key]: null }));\n  }\n\n  function validateCurrent() {\n    const step = steps[index];\n    if (!step) return true;\n    if (!step.required) return true;\n    const val = form[step.key];\n    if (step.type === \"photo\") {\n      if (!val) {\n        setErrors((e) => ({ ...e, [step.key]: \"Please upload or take a picture\" }));\n        return false;\n      }\n      return true;\n    }\n    if (step.type === \"stages\") {\n      if (val === undefined || val === null) {\n        setErrors((e) => ({ ...e, [step.key]: \"Please choose a stage\" }));\n        return false;\n      }\n      return true;\n    }\n    if (step.type === \"select\" || step.type === \"text\" || step.type === \"tel\" || step.type === \"number\" || step.type === \"radio\") {\n      if (step.required && (val === undefined || val === \"\" || val === null)) {\n        setErrors((e) => ({ ...e, [step.key]: `${step.label} is required` }));\n        return false;\n      }\n    }\n    return true;\n  }\n\n  function next() {\n    if (!validateCurrent()) return;\n    setIndex((i) => Math.min(steps.length - 1, i + 1));\n  }\n  function prev() {\n    setIndex((i) => Math.max(0, i - 1));\n  }\n\n  // on final submit, validate all required fields; then push to /coach with params\n  function submitAll() {\n    // validate all required\n    const err = {};\n    steps.forEach((s) => {\n      if (s.required) {\n        const v = form[s.key];\n        if (s.type === \"photo\") {\n          if (!v) err[s.key] = \"Required\";\n        } else if (s.type === \"stages\") {\n          if (v === undefined || v === null) err[s.key] = \"Required\";\n        } else {\n          if (v === undefined || v === \"\") err[s.key] = \"Required\";\n        }\n      }\n    });\n    if (Object.keys(err).length) {\n      setErrors(err);\n      // jump to first error index\n      const firstKey = Object.keys(err)[0];\n      const firstIdx = steps.findIndex((s) => s.key === firstKey);\n      if (firstIdx >= 0) setIndex(firstIdx);\n      return;\n    }\n\n    // build query params (prefix groups)\n    const params = new URLSearchParams();\n    Object.entries(form).forEach(([k, v]) => {\n      // for file (photo) send file name only -- you should upload to server in prod\n      if (v instanceof File) {\n        params.set(k, v.name);\n      } else {\n        params.set(k, typeof v === \"object\" ? JSON.stringify(v) : String(v));\n      }\n    });\n\n    router.push(\"/coach?\" + params.toString());\n  }\n\n  const current = steps[index];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-white via-gray-50 to-gray-100 py-10\">\n      <main className=\"max-w-3xl mx-auto px-6\">\n        <div className=\"mb-6 flex items-center justify-between\">\n          <button onClick={prev} className=\"text-sm text-gray-600 hover:underline\" disabled={index === 0}>\n            ‚Üê Previous\n          </button>\n          <div className=\"text-sm text-gray-600\">{index + 1} / {steps.length}</div>\n        </div>\n\n        <ProgressTabs stepIndex={index} steps={steps.map(s => s.label || s.key)} />\n\n        <div className=\"mt-8\">\n          <AnimatePresence initial={false} mode=\"wait\">\n            <motion.div\n              key={current.key}\n              initial={{ opacity: 0, x: 30 }}\n              animate={{ opacity: 1, x: 0 }}\n              exit={{ opacity: 0, x: -30 }}\n              transition={{ duration: 0.32 }}\n            >\n              <StepCard\n                step={current}\n                value={form[current.key]}\n                onChange={(val) => setValue(current.key, val)}\n                error={errors[current.key]}\n                onTakePhoto={(file) => setValue(current.key, file)}\n              />\n            </motion.div>\n          </AnimatePresence>\n\n          {/* controls */}\n          <div className=\"mt-6 flex items-center justify-between\">\n            <div>\n              <button onClick={() => { setIndex(0); setErrors({}); setForm({}); }} className=\"text-xs text-gray-500 hover:underline\">\n                Reset\n              </button>\n            </div>\n\n            <div className=\"flex items-center gap-3\">\n              {index < steps.length - 1 ? (\n                <button\n                  onClick={next}\n                  className=\"px-5 py-2 bg-emerald-600 text-white rounded-md shadow hover:shadow-lg\"\n                >\n                  Next\n                </button>\n              ) : (\n                <button\n                  onClick={submitAll}\n                  className=\"px-5 py-2 bg-indigo-600 text-white rounded-md shadow hover:shadow-lg\"\n                >\n                  Submit\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}